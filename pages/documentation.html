<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - Krik Demo Site</title>
    <meta name="description" content="Krik Documentation This page provides comprehensive documentation for using Krik, the static site generator. Quick Start Installation From Crates.io (Recomme...">

    

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="alternate" type="application/atom+xml" title="Krik Demo Site - Feed" href="../feed.xml">
</head>
<body class="">
    <div class="layout-container has-toc">
        <nav class="top-nav">
            <a href="../index.html" class="site-title">Krik Demo Site</a>
            <div class="nav-controls">
                


<a href="documentation.pdf" class="pdf-download" aria-label="Download PDF" title="Download as PDF">
    <span class="pdf-icon">üìÑ</span>
</a>


                
                <button class="toc-toggle" onclick="toggleToc()" aria-label="Toggle table of contents" aria-controls="toc-sidebar">
                    <span class="toc-label">TOC</span>
                </button>
                
                <button class="hamburger-menu" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                    <span class="hamburger-icon">‚ò∞</span>
                </button>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                    <span class="theme-icon">üåì</span>
                </button>
            </div>
        </nav>

        <!-- Mobile dropdown menu -->
        <div class="mobile-menu" id="mobile-menu">
            <ul class="mobile-page-links">
                
                <li><a href="about.html">About Krik</a></li>
                
                <li><a href="contact.html">Contact</a></li>
                
                <li><a href="documentation.html">Documentation</a></li>
                
            </ul>
        </div>

        <aside class="sidebar">
            <ul class="page-links">
                
                <li><a href="about.html">About Krik</a></li>
                
                <li><a href="contact.html">Contact</a></li>
                
                <li><a href="documentation.html">Documentation</a></li>
                
            </ul>
        </aside>

        
        <aside class="toc-sidebar" id="toc-sidebar">
            <div class="toc">
                <h2>Table of Contents</h2>
                <ul class="toc">
<li><a href="#krik-documentation">Krik Documentation</a></li>
  <li><a href="#quick-start">Quick Start</a></li>
    <li><a href="#installation">Installation</a></li>
      <li><a href="#from-cratesio-recommended">From Crates.io (Recommended)</a></li>
      <li><a href="#from-source">From Source</a></li>
    <li><a href="#getting-started">Getting Started</a></li>
      <li><a href="#initialize-a-new-site">Initialize a New Site</a></li>
      <li><a href="#create-content">Create Content</a></li>
      <li><a href="#development-server">Development Server</a></li>
      <li><a href="#generate-static-site">Generate Static Site</a></li>
  <li><a href="#linting-content">Linting Content</a></li>
    <li><a href="#what-it-checks">What it checks</a></li>
  <li><a href="#content-organization">Content Organization</a></li>
    <li><a href="#directory-structure">Directory Structure</a></li>
    <li><a href="#site-configuration">Site Configuration</a></li>
  <li><a href="#front-matter">Front Matter</a></li>
    <li><a href="#front-matter-fields">Front Matter Fields</a></li>
  <li><a href="#templates-and-layouts">Templates and Layouts</a></li>
    <li><a href="#automatic-template-selection">Automatic Template Selection</a></li>
    <li><a href="#manual-template-override">Manual Template Override</a></li>
    <li><a href="#template-features">Template Features</a></li>
  <li><a href="#internationalization-i18n">Internationalization (i18n)</a></li>
    <li><a href="#creating-translations">Creating Translations</a></li>
    <li><a href="#supported-languages">Supported Languages</a></li>
    <li><a href="#language-navigation-index-selection">Language Navigation & Index Selection</a></li>
  <li><a href="#advanced-features">Advanced Features</a></li>
    <li><a href="#table-of-contents">Table of Contents</a></li>
    <li><a href="#footnotes">Footnotes</a></li>
    <li><a href="#scrolltotop-button">Scroll-to-Top Button</a></li>
    <li><a href="#seo-and-discovery">SEO and Discovery</a></li>
      <li><a href="#atom-feed-generation">Atom Feed Generation</a></li>
      <li><a href="#xml-sitemap-generation">XML Sitemap Generation</a></li>
      <li><a href="#robotstxt-generation">robots.txt Generation</a></li>
  <li><a href="#pdf-generation">PDF Generation</a></li>
    <li><a href="#prerequisites">Prerequisites</a></li>
      <li><a href="#install-pandoc">Install pandoc</a></li>
      <li><a href="#install-typst">Install typst</a></li>
    <li><a href="#enabling-pdf-generation">Enabling PDF Generation</a></li>
    <li><a href="#features">Features</a></li>
      <li><a href="#automatic-pdf-links">Automatic PDF Links</a></li>
      <li><a href="#languageaware-filenames">Language-Aware Filenames</a></li>
      <li><a href="#conditional-appendix">Conditional Appendix</a></li>
      <li><a href="#image-path-resolution">Image Path Resolution</a></li>
    <li><a href="#configuration">Configuration</a></li>
    <li><a href="#development-workflow">Development Workflow</a></li>
    <li><a href="#troubleshooting">Troubleshooting</a></li>
  <li><a href="#error-handling">‚ö†Ô∏è Error Handling</a></li>
    <li><a href="#error-types">Error Types</a></li>
    <li><a href="#exit-codes">Exit Codes</a></li>
    <li><a href="#tips">Tips</a></li>
  <li><a href="#theme-system">Theme System</a></li>
    <li><a href="#lightdark-mode">Light/Dark Mode</a></li>
    <li><a href="#customization">Customization</a></li>
  <li><a href="#command-line-reference">Command Line Reference</a></li>
    <li><a href="#main-commands">Main Commands</a></li>
    <li><a href="#global-options">Global Options</a></li>
    <li><a href="#init-command">Init Command</a></li>
    <li><a href="#postpage-commands">Post/Page Commands</a></li>
    <li><a href="#server-command">Server Command</a></li>
  <li><a href="#generated-output">Generated Output</a></li>
    <li><a href="#example-output-structure">Example Output Structure</a></li>
  <li><a href="#best-practices">Best Practices</a></li>
    <li><a href="#content-organization-1">Content Organization</a></li>
    <li><a href="#front-matter-1">Front Matter</a></li>
    <li><a href="#performance">Performance</a></li>
    <li><a href="#accessibility">Accessibility</a></li>
  <li><a href="#deployment">Deployment</a></li>
    <li><a href="#github-pages">GitHub Pages</a></li>
      <li><a href="#setup-steps">Setup Steps</a></li>
      <li><a href="#what-the-workflow-does">What the Workflow Does</a></li>
      <li><a href="#workflow-features">Workflow Features</a></li>
      <li><a href="#repository-structure">Repository Structure</a></li>
</ul>
            </div>
        </aside>
        

        <main class="main-content ">
            
<article class="page-article">
    <div class="page-header">
        <h1 class="page-title">Documentation</h1>
        <div class="meta">August 12, 2025</div>
    </div>
    <div class="page-content"><h1 id="krik-documentation">Krik Documentation</h1>
<p>This page provides comprehensive documentation for using Krik, the static site
generator.</p>
<h2 id="quick-start">Quick Start</h2>
<h3 id="installation">Installation</h3>
<h4 id="from-cratesio-recommended">From Crates.io (Recommended)</h4>
<pre><code class="language-bash"># Install globally from crates.io
cargo install krik

# No additional setup required - themes and content are embedded!
</code></pre>
<h4 id="from-source">From Source</h4>
<pre><code class="language-bash"># Clone the repository
git clone &lt;repository-url&gt;
cd krik

# Build the project
cargo build --release

# The executable will be at target/release/kk
</code></pre>
<h3 id="getting-started">Getting Started</h3>
<h4 id="initialize-a-new-site">Initialize a New Site</h4>
<p>Create a new Krik site with sample content and default theme:</p>
<pre><code class="language-bash">kk init my-blog             # Create new site in 'my-blog' directory
cd my-blog
kk server                   # Start development server
</code></pre>
<p>Or initialize in the current directory:</p>
<pre><code class="language-bash">kk init                     # Initialize in current directory
kk init --force             # Overwrite existing files
</code></pre>
<h4 id="create-content">Create Content</h4>
<p>Create new blog posts and pages quickly:</p>
<pre><code class="language-bash">kk post "My Great Post"           # Create new blog post
kk post                           # Create with default title "New post"
kk post "Custom Post" -f my-slug  # Custom filename

kk page "About Us"                # Create new page
kk page                           # Create with default title "New page"
kk page "Contact" -f contact      # Custom filename
</code></pre>
<h4 id="development-server">Development Server</h4>
<p>Start the development server with live reload:</p>
<pre><code class="language-bash">kk server                    # Start on port 3000 with live reload
kk server --port 8080        # Custom port
kk server --no-live-reload   # Disable live reload (useful for mobile devices)
</code></pre>
<h4 id="generate-static-site">Generate Static Site</h4>
<pre><code class="language-bash"># Generate site from current directory
kk

# Generate with custom paths
kk --input ./content --output ./_site --theme ./themes/custom
</code></pre>
<h2 id="linting-content">Linting Content</h2>
<p>Use the linter to validate front matter, filenames, and conventions:</p>
<pre><code class="language-bash">kk lint                    # Lint default content directory
kk lint --input content    # Lint a specific directory
kk lint --strict           # Treat warnings as errors
</code></pre>
<h3 id="what-it-checks">What it checks</h3>
<ul>
<li>Title: required and non-empty</li>
<li>Language codes: must match filename suffix (e.g., <code>hello.it.md</code> ‚Üí <code>it</code>)</li>
<li>Slugs: filename stem must be slug-like (lowercase, numbers, hyphens)</li>
<li>Layout: warns on unrecognized values and directory/layout mismatches</li>
<li>Date: warns if missing for posts; warns if &gt; 1 year in the future</li>
<li>Tags: array of non-empty strings; warns when tags are not slug-like</li>
<li>TOC: warns if <code>toc</code> is not a boolean</li>
<li>Duplicate slugs: within the same directory and language</li>
<li>Duplicate titles: warns within the same directory and language</li>
</ul>
<p>The command exits non-zero on errors. In <code>--strict</code> mode, warnings are also
treated as errors.</p>
<h2 id="content-organization">Content Organization</h2>
<h3 id="directory-structure">Directory Structure</h3>
<pre><code>content/
‚îú‚îÄ‚îÄ site.toml           # Site configuration
‚îú‚îÄ‚îÄ posts/              # Blog posts
‚îÇ   ‚îú‚îÄ‚îÄ hello.md
‚îÇ   ‚îî‚îÄ‚îÄ hello.es.md     # Spanish translation
‚îú‚îÄ‚îÄ pages/              # Static pages
‚îÇ   ‚îî‚îÄ‚îÄ about.md
‚îî‚îÄ‚îÄ images/             # Static assets
    ‚îî‚îÄ‚îÄ logo.png
</code></pre>
<h3 id="site-configuration">Site Configuration</h3>
<p>Create a <code>site.toml</code> file in your content directory:</p>
<pre><code class="language-toml">title = "My Website"
base_url = "https://example.com"  # Optional, for feed generation
</code></pre>
<p><strong>Configuration Options:</strong></p>
<ul>
<li><code>title</code>: Site title (displayed in navigation and feeds)</li>
<li><code>base_url</code>: Base URL for proper Atom feed link resolution</li>
</ul>
<h2 id="front-matter">Front Matter</h2>
<p>All markdown files can include YAML front matter for metadata:</p>
<pre><code class="language-yaml">---
title: "Page Title"
date: 2024-01-15T10:30:00Z
layout: post
tags: ["rust", "web", "static-site"]
toc: true
draft: false
custom_field: "custom value"
---
# Your content here
</code></pre>
<h3 id="front-matter-fields">Front Matter Fields</h3>
<table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>title</code></td><td>String</td><td>Page/post title</td></tr>
<tr><td><code>date</code></td><td>ISO 8601</td><td>Publication date (falls back to file mtime)</td></tr>
<tr><td><code>layout</code></td><td>String</td><td>Template to use (<code>post</code>, <code>page</code>, or custom)</td></tr>
<tr><td><code>tags</code></td><td>Array</td><td>Tags for categorization</td></tr>
<tr><td><code>toc</code></td><td>Boolean</td><td>Enable table of contents generation</td></tr>
<tr><td><code>pdf</code></td><td>Boolean</td><td>Enable PDF generation</td></tr>
<tr><td><code>draft</code></td><td>Boolean</td><td>Skip file from processing when <code>true</code></td></tr>
<tr><td>Custom fields</td><td>Any</td><td>Additional metadata accessible in templates</td></tr>
</tbody></table>
<h2 id="templates-and-layouts">Templates and Layouts</h2>
<h3 id="automatic-template-selection">Automatic Template Selection</h3>
<ul>
<li><strong>Posts</strong>: Files in <code>content/posts/</code> use the <code>post</code> template</li>
<li><strong>Pages</strong>: Files in <code>content/pages/</code> or root use the <code>page</code> template</li>
<li><strong>Index</strong>: Homepage uses the <code>index</code> template</li>
</ul>
<h3 id="manual-template-override">Manual Template Override</h3>
<p>Use the <code>layout</code> field in front matter:</p>
<pre><code class="language-yaml">---
title: "Special Page"
layout: custom
---
</code></pre>
<h3 id="template-features">Template Features</h3>
<ul>
<li><strong>Post Template</strong>: Tags, ‚ÄúBack to Home‚Äù link, language selector, scroll-to-top</li>
<li><strong>Page Template</strong>: Clean layout, language selector (if translations
available), scroll-to-top</li>
<li><strong>Index Template</strong>: Post listing, theme toggle, scroll-to-top</li>
</ul>
<h2 id="internationalization-i18n">Internationalization (i18n)</h2>
<h3 id="creating-translations">Creating Translations</h3>
<p>Add language codes to filenames:</p>
<ul>
<li><code>hello.md</code> - Default language (English)</li>
<li><code>hello.it.md</code> - Italian translation</li>
<li><code>hello.es.md</code> - Spanish translation</li>
<li><code>hello.fr.md</code> - French translation</li>
</ul>
<h3 id="supported-languages">Supported Languages</h3>
<p>Krik maintains an internal language map used for validation and display names.
Out of the box it supports: <code>en</code>, <code>it</code>, <code>es</code>, <code>fr</code>, <code>de</code>, <code>pt</code>, <code>ja</code>, <code>zh</code>,
<code>ru</code>, <code>ar</code>. Language names in the UI are resolved from this map.</p>
<h3>Language Navigation &amp; Index Selection</h3>
<ul>
<li>Pages with translations automatically show a language selector dropdown.</li>
<li>The posts index shows one entry per post base name. If multiple language
versions exist, the index prefers the default language. If only a non-default
language exists (e.g., only <code>foo.it.md</code>), that translation is included.</li>
</ul>
<h2 id="advanced-features">Advanced Features</h2>
<h3 id="table-of-contents">Table of Contents</h3>
<p>Enable TOC generation with <code>toc: true</code> in front matter:</p>
<pre><code class="language-yaml">---
title: "Long Article"
toc: true
---
</code></pre>
<p><strong>Features:</strong></p>
<ul>
<li>Automatic ID generation for headings (AST-based)</li>
<li>Hierarchical structure preservation</li>
<li>Clickable navigation links</li>
<li>Smooth scrolling to sections</li>
</ul>
<h3 id="footnotes">Footnotes</h3>
<p>Krik supports enhanced footnotes with bidirectional navigation:</p>
<pre><code class="language-markdown">This has a footnote[^1].

[^1]: This is the footnote content.
</code></pre>
<p><strong>Features:</strong></p>
<ul>
<li>Click footnote numbers to jump to definitions</li>
<li>Click return arrows (‚Ü©) to return to text</li>
<li>Smooth scrolling for all footnote navigation</li>
</ul>
<h3 id="scrolltotop-button">Scroll-to-Top Button</h3>
<p>Automatically appears on longer pages with smart visibility:</p>
<ul>
<li>Hidden by default until scrolling &gt;300px</li>
<li>Fixed position in bottom-right corner</li>
<li>Smooth scrolling animation</li>
<li>Theme-aware styling</li>
<li>Mobile-optimized size and positioning</li>
</ul>
<h3 id="seo-and-discovery">SEO and Discovery</h3>
<p>Krik automatically generates SEO-optimized files for search engines and web
crawlers:</p>
<h4 id="atom-feed-generation">Atom Feed Generation</h4>
<p>Automatically generates an RFC 4287 compliant Atom feed at <code>feed.xml</code>:</p>
<p><strong>Features:</strong></p>
<ul>
<li>Only includes posts (content with <code>post</code> template)</li>
<li>Limited to 20 most recent posts</li>
<li>Full HTML content with proper XML escaping</li>
<li>xml:base support when <code>base_url</code> is configured</li>
<li>Proper metadata (titles, dates, IDs)</li>
</ul>
<h4 id="xml-sitemap-generation">XML Sitemap Generation</h4>
<p>Automatically generates a comprehensive XML sitemap at <code>sitemap.xml</code>:</p>
<p><strong>Features:</strong></p>
<ul>
<li>XML Schema validation with proper namespaces</li>
<li>Multilingual support with <code>&lt;xhtml:link&gt;</code> alternate language declarations</li>
<li>One entry per content piece with canonical URLs (prefers English)</li>
<li>Proper priority and change frequency settings</li>
<li>Excludes draft content automatically</li>
</ul>
<h4 id="robotstxt-generation">robots.txt Generation</h4>
<p>Automatically generates SEO-optimized robots.txt:</p>
<p><strong>Features:</strong></p>
<ul>
<li>References sitemap.xml location</li>
<li>Allows all content by default (good for most static sites)</li>
<li>Blocks access to system files and build directories</li>
<li>Includes bot-specific rules for major search engines</li>
<li>Blocks known problematic crawlers/scrapers</li>
<li>Includes polite crawl delay settings</li>
</ul>
<h2 id="pdf-generation">PDF Generation</h2>
<p>Krik supports automatic PDF generation for your content using pandoc and the
typst engine. This feature allows you to provide downloadable PDF versions of
your posts and pages.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>Before using PDF generation, you need to install the required external tools:</p>
<h4 id="install-pandoc">Install pandoc</h4>
<p><strong>macOS:</strong></p>
<pre><code class="language-bash">brew install pandoc
</code></pre>
<p><strong>Ubuntu/Debian:</strong></p>
<pre><code class="language-bash">sudo apt install pandoc
</code></pre>
<p><strong>Windows:</strong> Download from <a href="https://pandoc.org/installing.html">pandoc.org</a> or
use:</p>
<pre><code class="language-bash">winget install pandoc
</code></pre>
<h4 id="install-typst">Install typst</h4>
<p><strong>All platforms:</strong></p>
<pre><code class="language-bash">cargo install typst-cli
</code></pre>
<p><strong>Alternative for macOS:</strong></p>
<pre><code class="language-bash">brew install typst
</code></pre>
<h3 id="enabling-pdf-generation">Enabling PDF Generation</h3>
<p>To enable PDF generation for a document, add <code>pdf: true</code> to your front matter:</p>
<pre><code class="language-yaml">---
title: "My Article"
date: 2025-01-15T10:30:00Z
pdf: true
---
# My Article

This content will be available as both HTML and PDF.
</code></pre>
<h3 id="features">Features</h3>
<h4 id="automatic-pdf-links">Automatic PDF Links</h4>
<p>When PDF generation is enabled, Krik automatically adds a PDF download link (üìÑ)
to your HTML templates, positioned next to the theme switcher. The link appears
only for documents with <code>pdf: true</code> in their front matter.</p>
<h4 id="languageaware-filenames">Language-Aware Filenames</h4>
<p>PDF files are generated with language-aware filenames:</p>
<ul>
<li><code>welcome.md</code> ‚Üí <code>welcome.pdf</code></li>
<li><code>welcome.it.md</code> ‚Üí <code>welcome.it.pdf</code></li>
<li><code>about.fr.md</code> ‚Üí <code>about.fr.pdf</code></li>
</ul>
<h4 id="conditional-appendix">Conditional Appendix</h4>
<p>When your site has a <code>base_url</code> configured in <code>site.toml</code>, PDFs include an
appendix with:</p>
<ul>
<li><strong>Download URL</strong>: Link to the original web version</li>
<li><strong>Generation timestamp</strong>: When the PDF was created</li>
<li><strong>Multi-language support</strong>: Appendix text translated based on document
language</li>
</ul>
<p>Supported appendix languages: English, Italian, Spanish, French, German,
Portuguese, Japanese, Chinese, Russian, Arabic.</p>
<h4 id="image-path-resolution">Image Path Resolution</h4>
<p>Krik automatically resolves relative image paths in PDFs, handling complex
patterns like:</p>
<ul>
<li><code>![Image](../images/photo.jpg)</code></li>
<li><code>![Diagram](../../assets/diagrams/flow.png)</code></li>
<li><code>![Logo](./logo.svg)</code></li>
</ul>
<h3 id="configuration">Configuration</h3>
<p>PDF generation works with your existing site configuration. Make sure your
<code>site.toml</code> includes:</p>
<pre><code class="language-toml">title = "My Site"
base_url = "https://mysite.com"  # Optional: enables PDF appendix with download URL
</code></pre>
<h3 id="development-workflow">Development Workflow</h3>
<pre><code class="language-bash"># 1. Add pdf: true to your document
echo '---
title: "My PDF Post"
pdf: true
---

# My PDF Post

Content goes here...' &gt; content/posts/my-post.md

# 2. Generate site (requires pandoc and typst)
kk

# 3. Check generated files
ls _site/posts/
# Output: my-post.html, my-post.pdf
</code></pre>
<h3 id="troubleshooting">Troubleshooting</h3>
<p><strong>Error: ‚Äúpandoc not found‚Äù</strong></p>
<ul>
<li>Install pandoc using the instructions above</li>
<li>Ensure pandoc is in your system PATH</li>
</ul>
<p><strong>Error: ‚Äútypst not found‚Äù</strong></p>
<ul>
<li>Install typst-cli: <code>cargo install typst-cli</code></li>
<li>Verify installation: <code>typst --version</code></li>
</ul>
<p><strong>PDF links not appearing in HTML</strong></p>
<ul>
<li>Ensure <code>pdf: true</code> is set in the document‚Äôs front matter</li>
<li>Rebuild your site with <code>kk</code></li>
<li>Check that the PDF file was generated in the output directory</li>
</ul>
<p><strong>Images missing in PDF</strong></p>
<ul>
<li>Ensure image paths are relative to the content source directory</li>
<li>Use forward slashes in paths even on Windows</li>
<li>Verify image files exist at the specified paths</li>
</ul>
<h2 id="error-handling">‚ö†Ô∏è Error Handling</h2>
<p>Krik uses typed errors for clear diagnostics and actionable messages.</p>
<h3 id="error-types">Error Types</h3>
<ul>
<li><code>ConfigError</code>: configuration files and parsing</li>
<li><code>IoError</code>: file and directory operations</li>
<li><code>MarkdownError</code>: front matter and markdown parsing</li>
<li><code>TemplateError</code>: template compilation and rendering (includes template name)</li>
<li><code>ThemeError</code>: theme loading and asset handling</li>
<li><code>ServerError</code>: development server issues</li>
<li><code>ContentError</code>: content creation and validation failures</li>
<li><code>GenerationError</code>: site generation pipeline failures</li>
</ul>
<h3 id="exit-codes">Exit Codes</h3>
<p>The CLI maps error types to exit codes:</p>
<ul>
<li>Config (2), I/O (3), Markdown (4), Template (5), Theme (6), Server (7),
Content (8), Generation (9)</li>
</ul>
<h3 id="tips">Tips</h3>
<ul>
<li>Use <code>-v/--verbose</code> for detailed logs</li>
<li>Error messages include paths/template names for faster troubleshooting</li>
</ul>
<h2 id="theme-system">Theme System</h2>
<h3 id="lightdark-mode">Light/Dark Mode</h3>
<p><strong>Automatic Detection:</strong></p>
<ul>
<li>Detects OS theme preference via CSS <code>prefers-color-scheme</code></li>
<li>Supports all major platforms (Windows, macOS, Linux, iOS, Android)</li>
<li>Real-time updates when OS theme changes</li>
</ul>
<p><strong>Manual Toggle:</strong></p>
<ul>
<li>Theme button (üåô/‚òÄÔ∏è) in top navigation</li>
<li>Saves preference to localStorage</li>
<li>Overrides automatic detection</li>
<li>Smooth 0.3s transitions</li>
</ul>
<h3 id="customization">Customization</h3>
<p>The theme uses CSS custom properties for easy customization:</p>
<pre><code class="language-css">:root {
  --bg-color: #ffffff;
  --text-color: #333333;
  --link-color: #0066cc;
  /* ... more variables */
}
</code></pre>
<h2 id="command-line-reference">Command Line Reference</h2>
<h3 id="main-commands">Main Commands</h3>
<pre><code class="language-bash">kk [OPTIONS]              # Generate static site
kk init [DIR]             # Initialize new site
kk post [TITLE]           # Create new blog post
kk page [TITLE]           # Create new page
kk server [OPTIONS]       # Start development server
</code></pre>
<h3 id="global-options">Global Options</h3>
<table><thead><tr><th>Option</th><th>Description</th><th>Default</th></tr></thead><tbody>
<tr><td><code>-i, --input &lt;DIR&gt;</code></td><td>Input directory</td><td><code>content</code></td></tr>
<tr><td><code>-o, --output &lt;DIR&gt;</code></td><td>Output directory</td><td><code>_site</code></td></tr>
<tr><td><code>-t, --theme &lt;DIR&gt;</code></td><td>Theme directory</td><td><code>themes/default</code></td></tr>
<tr><td><code>-h, --help</code></td><td>Show help</td><td></td></tr>
<tr><td><code>-V, --version</code></td><td>Show version</td><td></td></tr>
</tbody></table>
<h3 id="init-command">Init Command</h3>
<pre><code class="language-bash">kk init [DIR] [OPTIONS]
</code></pre>
<table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody>
<tr><td><code>[DIR]</code></td><td>Directory to initialize (default: current directory)</td></tr>
<tr><td><code>-f, --force</code></td><td>Overwrite existing files</td></tr>
</tbody></table>
<h3 id="postpage-commands">Post/Page Commands</h3>
<pre><code class="language-bash">kk post [TITLE] [OPTIONS]
kk page [TITLE] [OPTIONS]
</code></pre>
<table><thead><tr><th>Option</th><th>Description</th><th>Default</th></tr></thead><tbody>
<tr><td><code>[TITLE]</code></td><td>Content title</td><td>‚ÄúNew post‚Äù / ‚ÄúNew page‚Äù</td></tr>
<tr><td><code>-f, --filename &lt;NAME&gt;</code></td><td>Custom filename (without .md)</td><td>Generated from title</td></tr>
<tr><td><code>--content-dir &lt;DIR&gt;</code></td><td>Content directory path</td><td><code>content</code></td></tr>
</tbody></table>
<h3 id="server-command">Server Command</h3>
<pre><code class="language-bash">kk server [OPTIONS]
</code></pre>
<table><thead><tr><th>Option</th><th>Description</th><th>Default</th></tr></thead><tbody>
<tr><td><code>-i, --input &lt;DIR&gt;</code></td><td>Input directory</td><td><code>content</code></td></tr>
<tr><td><code>-o, --output &lt;DIR&gt;</code></td><td>Output directory</td><td><code>_site</code></td></tr>
<tr><td><code>-t, --theme &lt;DIR&gt;</code></td><td>Theme directory</td><td><code>themes/default</code></td></tr>
<tr><td><code>-p, --port &lt;PORT&gt;</code></td><td>Server port</td><td><code>3000</code></td></tr>
<tr><td><code>--no-live-reload</code></td><td>Disable live reload</td><td>Live reload enabled</td></tr>
</tbody></table>
<h2 id="generated-output">Generated Output</h2>
<p>Krik generates a complete static site with:</p>
<ul>
<li><strong>HTML files</strong>: Preserving directory structure</li>
<li><strong>Language variants</strong>: <code>file.lang.html</code> for translations</li>
<li><strong>Static assets</strong>: Images, CSS, etc. copied as-is</li>
<li><strong>Theme assets</strong>: CSS and JavaScript from theme directory</li>
<li><strong>Atom feed</strong>: <code>feed.xml</code> with proper link resolution</li>
<li><strong>XML sitemap</strong>: <code>sitemap.xml</code> with multilingual support</li>
<li><strong>robots.txt</strong>: SEO-optimized with sitemap reference</li>
<li><strong>Navigation</strong>: TOCs, footnote links, scroll-to-top buttons</li>
</ul>
<h3 id="example-output-structure">Example Output Structure</h3>
<pre><code>_site/
‚îú‚îÄ‚îÄ index.html          # Homepage
‚îú‚îÄ‚îÄ feed.xml           # Atom feed
‚îú‚îÄ‚îÄ sitemap.xml        # XML sitemap
‚îú‚îÄ‚îÄ robots.txt         # SEO robots file
‚îú‚îÄ‚îÄ assets/            # Theme assets
‚îÇ   ‚îú‚îÄ‚îÄ css/main.css
‚îÇ   ‚îî‚îÄ‚îÄ js/main.js
‚îú‚îÄ‚îÄ posts/
‚îÇ   ‚îú‚îÄ‚îÄ hello.html
‚îÇ   ‚îî‚îÄ‚îÄ hello.es.html  # Translation
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ about.html
‚îî‚îÄ‚îÄ images/
    ‚îî‚îÄ‚îÄ logo.png       # Static assets
</code></pre>
<h2 id="best-practices">Best Practices</h2>
<h3 id="content-organization">Content Organization</h3>
<ul>
<li>Use <code>posts/</code> for blog entries and time-sensitive content</li>
<li>Use <code>pages/</code> for static pages like About, Contact, etc.</li>
<li>Keep assets organized in subdirectories</li>
<li>Use consistent naming conventions for translations</li>
</ul>
<h3 id="front-matter">Front Matter</h3>
<ul>
<li>Always include a <code>title</code> for better navigation</li>
<li>Use <code>date</code> for posts to ensure proper chronological ordering</li>
<li>Add <code>tags</code> to posts for better categorization</li>
<li>Enable <code>toc</code> for longer articles with multiple sections</li>
</ul>
<h3 id="performance">Performance</h3>
<ul>
<li>Optimize images before adding to content</li>
<li>Use appropriate image formats (WebP when possible)</li>
<li>Keep individual posts/pages to reasonable lengths</li>
<li>Use drafts (<code>draft: true</code>) for work-in-progress content</li>
</ul>
<h3 id="accessibility">Accessibility</h3>
<ul>
<li>Use proper heading hierarchy (H1 ‚Üí H2 ‚Üí H3)</li>
<li>Include alt text for images</li>
<li>Ensure good color contrast in custom themes</li>
<li>Test with keyboard navigation</li>
</ul>
<h2 id="deployment">Deployment</h2>
<h3 id="github-pages">GitHub Pages</h3>
<p>You can automatically deploy your Krik site to GitHub Pages using GitHub
Actions. This workflow will build and deploy your site whenever you push to the
main branch.</p>
<h4 id="setup-steps">Setup Steps</h4>
<ol>
<li>
<p><strong>Create the workflow file</strong>: Add
<a href=".github/workflows/build-and-deploy.yml">.github/workflows/build-and-deploy.yml</a>
to your repository.</p>
</li>
<li>
<p><strong>Enable GitHub Pages</strong>:</p>
<ul>
<li>Go to your repository settings</li>
<li>Navigate to ‚ÄúPages‚Äù section</li>
<li>Under ‚ÄúSource‚Äù, select ‚ÄúDeploy from a branch‚Äù</li>
<li>Choose the <code>gh-pages</code> branch</li>
<li>Select ‚Äú/ (root)‚Äù as the folder</li>
<li>Click ‚ÄúSave‚Äù</li>
</ul>
</li>
<li>
<p><strong>Configure your site</strong>: Ensure your content is in the <code>content/</code> directory
with proper structure</p>
</li>
<li>
<p><strong>Deploy</strong>: Push to your main branch to trigger the deployment</p>
</li>
</ol>
<h4 id="what-the-workflow-does">What the Workflow Does</h4>
<p>The GitHub Actions workflow automatically:</p>
<ul>
<li><strong>Installs dependencies</strong>: Sets up Rust toolchain and installs Krik from
crates.io</li>
<li><strong>Generates the site</strong>: Runs <code>kk</code> to build your static site</li>
<li><strong>Creates gh-pages branch</strong>: Sets up the deployment branch if it doesn‚Äôt exist</li>
<li><strong>Deploys files</strong>: Copies generated files to the gh-pages branch</li>
<li><strong>Adds .nojekyll</strong>: Prevents GitHub from processing files with Jekyll</li>
<li><strong>Pushes changes</strong>: Commits and pushes the generated site</li>
</ul>
<h4 id="workflow-features">Workflow Features</h4>
<ul>
<li><strong>Automatic deployment</strong>: Triggers on every push to main branch</li>
<li><strong>Manual trigger</strong>: Can be run manually via GitHub Actions interface</li>
<li><strong>Branch management</strong>: Handles both new and existing gh-pages branches</li>
<li><strong>Clean deployment</strong>: Removes old files before deploying new ones</li>
<li><strong>Skip empty deployments</strong>: Only commits when there are actual changes</li>
</ul>
<h4 id="repository-structure">Repository Structure</h4>
<p>Your repository should look like this:</p>
<pre><code>your-repository/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ build-and-deploy.yml    # Deployment workflow
‚îú‚îÄ‚îÄ content/                        # Your Krik content
‚îÇ   ‚îú‚îÄ‚îÄ site.toml
‚îÇ   ‚îú‚îÄ‚îÄ posts/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.md
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îÇ       ‚îî‚îÄ‚îÄ *.md
‚îî‚îÄ‚îÄ README.md
</code></pre>
<p>After the first successful deployment, your site will be available at:
<code>https://yourusername.github.io/your-repository-name/</code></p>
<hr />
<p>This documentation covers all major features of Krik. For more examples, check
out the other posts and pages in this demo site!</p>
</div>
    </article>

        </main>
    </div>

    <button id="scroll-to-top" class="scroll-to-top" aria-label="Scroll to top">
        <span>‚Üë</span>
    </button>

    
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/prism-init.js"></script>
    
</body>
</html>


